<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>ks: ks::TCPSocket Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ks
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classks_1_1TCPSocket.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classks_1_1TCPSocket-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ks::TCPSocket Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;TCPSocket.h&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ks::TCPSocket:</div>
<div class="dyncontent">
<div class="center"><img src="classks_1_1TCPSocket__coll__graph.png" border="0" usemap="#ks_1_1TCPSocket_coll__map" alt="Collaboration graph"/></div>
<map name="ks_1_1TCPSocket_coll__map" id="ks_1_1TCPSocket_coll__map">
<area shape="rect" id="node2" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. " alt="" coords="5,81,228,108"/><area shape="rect" id="node3" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html" title="cGate" alt="" coords="252,81,309,108"/><area shape="rect" id="node4" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcObject.html" title="cObject" alt="" coords="194,5,261,32"/><area shape="rect" id="node5" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classnoncopyable.html" title="noncopyable" alt="" coords="285,5,380,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html">CallbackInterface</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract base class for your callback objects.  <a href="classks_1_1TCPSocket_1_1CallbackInterface.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ab06a01d99c914f990309169a119115f6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6">State</a> { <br />
&#160;&#160;<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">LISTENING</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a>, 
<br />
&#160;&#160;<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">LOCALLY_CLOSED</a>, 
<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>, 
<br />
&#160;&#160;<a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">SOCKERROR</a>
<br />
 }</td></tr>
<tr class="separator:ab06a01d99c914f990309169a119115f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a522c977d1c8da5a5f0abcab3da168adc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a522c977d1c8da5a5f0abcab3da168adc">TCPSocket</a> ()</td></tr>
<tr class="memdesc:a522c977d1c8da5a5f0abcab3da168adc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a522c977d1c8da5a5f0abcab3da168adc">More...</a><br /></td></tr>
<tr class="separator:a522c977d1c8da5a5f0abcab3da168adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64c79b1f588eb485026d82f2a1cffff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa64c79b1f588eb485026d82f2a1cffff">TCPSocket</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:aa64c79b1f588eb485026d82f2a1cffff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor, to be used with forked sockets (see <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a>).  <a href="#aa64c79b1f588eb485026d82f2a1cffff">More...</a><br /></td></tr>
<tr class="separator:aa64c79b1f588eb485026d82f2a1cffff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa588345b9decd8cf81f9e3aaa702557c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa588345b9decd8cf81f9e3aaa702557c">~TCPSocket</a> ()</td></tr>
<tr class="memdesc:aa588345b9decd8cf81f9e3aaa702557c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#aa588345b9decd8cf81f9e3aaa702557c">More...</a><br /></td></tr>
<tr class="separator:aa588345b9decd8cf81f9e3aaa702557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8cf1b49f9a74c00fbd69191e35d2f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a1c8cf1b49f9a74c00fbd69191e35d2f6">getConnectionId</a> () const </td></tr>
<tr class="memdesc:a1c8cf1b49f9a74c00fbd69191e35d2f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the internal connection Id.  <a href="#a1c8cf1b49f9a74c00fbd69191e35d2f6">More...</a><br /></td></tr>
<tr class="separator:a1c8cf1b49f9a74c00fbd69191e35d2f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55c5b70e199d59bd059f8b0f95178f4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a55c5b70e199d59bd059f8b0f95178f4b">getState</a> ()</td></tr>
<tr class="memdesc:a55c5b70e199d59bd059f8b0f95178f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the socket state, one of NOT_BOUND, CLOSED, LISTENING, CONNECTING, CONNECTED, etc.  <a href="#a55c5b70e199d59bd059f8b0f95178f4b">More...</a><br /></td></tr>
<tr class="separator:a55c5b70e199d59bd059f8b0f95178f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Getter functions</div></td></tr>
<tr class="memitem:a2f3f0ff1c4ddcc0c254194ee6c1b6154"><td class="memItemLeft" align="right" valign="top">L3Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a2f3f0ff1c4ddcc0c254194ee6c1b6154">getLocalAddress</a> ()</td></tr>
<tr class="separator:a2f3f0ff1c4ddcc0c254194ee6c1b6154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d409999b76e2f7f6b1be2e0efe5ac7c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a8d409999b76e2f7f6b1be2e0efe5ac7c">getLocalPort</a> ()</td></tr>
<tr class="separator:a8d409999b76e2f7f6b1be2e0efe5ac7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa87868eabc0762d44e4efc607631c645"><td class="memItemLeft" align="right" valign="top">L3Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa87868eabc0762d44e4efc607631c645">getRemoteAddress</a> ()</td></tr>
<tr class="separator:aa87868eabc0762d44e4efc607631c645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11637eb08b5cedc80f31db5f0fa79fa3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a11637eb08b5cedc80f31db5f0fa79fa3">getRemotePort</a> ()</td></tr>
<tr class="separator:a11637eb08b5cedc80f31db5f0fa79fa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a45c7469e5ac6f0d18b28f00662dbae28"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">stateName</a> (int state)</td></tr>
<tr class="memdesc:a45c7469e5ac6f0d18b28f00662dbae28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns name of socket state code returned by <a class="el" href="classks_1_1TCPSocket.html#a55c5b70e199d59bd059f8b0f95178f4b" title="Returns the socket state, one of NOT_BOUND, CLOSED, LISTENING, CONNECTING, CONNECTED, etc. ">getState()</a>.  <a href="#a45c7469e5ac6f0d18b28f00662dbae28">More...</a><br /></td></tr>
<tr class="separator:a45c7469e5ac6f0d18b28f00662dbae28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aee7abe8e15ac615a5a7ecfa71c101729"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="separator:aee7abe8e15ac615a5a7ecfa71c101729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4c4771d0773348fc713ba4250e5564a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa4c4771d0773348fc713ba4250e5564a">listen</a> (bool fork)</td></tr>
<tr class="separator:aa4c4771d0773348fc713ba4250e5564a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ad96b0df7258cafeef39bc33dd2417a54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ad96b0df7258cafeef39bc33dd2417a54">numBytes</a></td></tr>
<tr class="separator:ad96b0df7258cafeef39bc33dd2417a54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68063a46cb5c1f86b2c8eede3c75e0c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a></td></tr>
<tr class="separator:a68063a46cb5c1f86b2c8eede3c75e0c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab65b783814e144b57ad100e6eb16640c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a></td></tr>
<tr class="separator:ab65b783814e144b57ad100e6eb16640c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e03bc9648e109092f7c85b8b9f3a77"><td class="memItemLeft" align="right" valign="top">L3Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a></td></tr>
<tr class="separator:af9e03bc9648e109092f7c85b8b9f3a77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6d88f0349a168e72f90b5e52190390"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a></td></tr>
<tr class="separator:a2d6d88f0349a168e72f90b5e52190390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae032553ef3aa9ebc50f8a1ab44632db0"><td class="memItemLeft" align="right" valign="top">L3Address&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a></td></tr>
<tr class="separator:ae032553ef3aa9ebc50f8a1ab44632db0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac55891838fdd7d2c7f617bdb88b2cce0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a></td></tr>
<tr class="separator:ac55891838fdd7d2c7f617bdb88b2cce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1956e888f317195c4a90db39a4f98227"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html">CallbackInterface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a></td></tr>
<tr class="separator:a1956e888f317195c4a90db39a4f98227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa97276aaa6910640965ca730243f2f"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a></td></tr>
<tr class="separator:a8aa97276aaa6910640965ca730243f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29f04c6ed5a3a54ce9d061cf0d447e5"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html">cGate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a></td></tr>
<tr class="separator:aa29f04c6ed5a3a54ce9d061cf0d447e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d0f3b49cbf73acfe8231aa0df536fd"><td class="memItemLeft" align="right" valign="top">TCPDataTransferMode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a></td></tr>
<tr class="separator:a80d0f3b49cbf73acfe8231aa0df536fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3a17838100573398c054c39aa346e3"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a></td></tr>
<tr class="separator:a5d3a17838100573398c054c39aa346e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Opening and closing connections, sending data</h2></td></tr>
<tr class="memitem:a93c2983afc191ae8de5818996a06008d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a93c2983afc191ae8de5818996a06008d">setOutputGate</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html">cGate</a> *toTcp)</td></tr>
<tr class="memdesc:a93c2983afc191ae8de5818996a06008d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the gate on which to send to TCP.  <a href="#a93c2983afc191ae8de5818996a06008d">More...</a><br /></td></tr>
<tr class="separator:a93c2983afc191ae8de5818996a06008d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6421ac72b0f24588e26b063e9ed52a1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a6421ac72b0f24588e26b063e9ed52a1d">bind</a> (int localPort)</td></tr>
<tr class="memdesc:a6421ac72b0f24588e26b063e9ed52a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind the socket to a local port number.  <a href="#a6421ac72b0f24588e26b063e9ed52a1d">More...</a><br /></td></tr>
<tr class="separator:a6421ac72b0f24588e26b063e9ed52a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9484569059a469721e26b00e25498d05"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a9484569059a469721e26b00e25498d05">bind</a> (L3Address <a class="el" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a>, int localPort)</td></tr>
<tr class="memdesc:a9484569059a469721e26b00e25498d05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bind the socket to a local port number and IP address (useful with multi-homing).  <a href="#a9484569059a469721e26b00e25498d05">More...</a><br /></td></tr>
<tr class="separator:a9484569059a469721e26b00e25498d05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fe0c678cda52e86bae5e4534b49571"><td class="memItemLeft" align="right" valign="top">TCPDataTransferMode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a04fe0c678cda52e86bae5e4534b49571">getDataTransferMode</a> () const </td></tr>
<tr class="memdesc:a04fe0c678cda52e86bae5e4534b49571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current dataTransferMode parameter.  <a href="#a04fe0c678cda52e86bae5e4534b49571">More...</a><br /></td></tr>
<tr class="separator:a04fe0c678cda52e86bae5e4534b49571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecdc7ff7142d5060298b2e43e20d0142"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aecdc7ff7142d5060298b2e43e20d0142">getTCPAlgorithmClass</a> () const </td></tr>
<tr class="memdesc:aecdc7ff7142d5060298b2e43e20d0142"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current tcpAlgorithmClass parameter.  <a href="#aecdc7ff7142d5060298b2e43e20d0142">More...</a><br /></td></tr>
<tr class="separator:aecdc7ff7142d5060298b2e43e20d0142"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041ede715e803eccfa38631da1637d88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a041ede715e803eccfa38631da1637d88">setDataTransferMode</a> (TCPDataTransferMode transferMode)</td></tr>
<tr class="memdesc:a041ede715e803eccfa38631da1637d88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the dataTransferMode parameter of the subsequent <a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564" title="Active OPEN to the given remote socket. ">connect()</a> or <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a> calls.  <a href="#a041ede715e803eccfa38631da1637d88">More...</a><br /></td></tr>
<tr class="separator:a041ede715e803eccfa38631da1637d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadfafab415b1be8c0c79e74de4be0716"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aadfafab415b1be8c0c79e74de4be0716">readDataTransferModePar</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcComponent.html">cComponent</a> &amp;component)</td></tr>
<tr class="memdesc:aadfafab415b1be8c0c79e74de4be0716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read "dataTransferMode" parameter from ini/ned, and set dataTransferMode member value.  <a href="#aadfafab415b1be8c0c79e74de4be0716">More...</a><br /></td></tr>
<tr class="separator:aadfafab415b1be8c0c79e74de4be0716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c49ceef4b47f1e9493b8bcd6ccb3f9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a2c49ceef4b47f1e9493b8bcd6ccb3f9e">setTCPAlgorithmClass</a> (const char *<a class="el" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a>)</td></tr>
<tr class="memdesc:a2c49ceef4b47f1e9493b8bcd6ccb3f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the tcpAlgorithmClass parameter of the next <a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564" title="Active OPEN to the given remote socket. ">connect()</a> or <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a> call.  <a href="#a2c49ceef4b47f1e9493b8bcd6ccb3f9e">More...</a><br /></td></tr>
<tr class="separator:a2c49ceef4b47f1e9493b8bcd6ccb3f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0a2dc087aa29382e398577d3651699b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b">listen</a> ()</td></tr>
<tr class="memdesc:aa0a2dc087aa29382e398577d3651699b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates passive OPEN, creating a "forking" connection that will listen on the port you bound the socket to.  <a href="#aa0a2dc087aa29382e398577d3651699b">More...</a><br /></td></tr>
<tr class="separator:aa0a2dc087aa29382e398577d3651699b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccd0ac9164069d68e8594fd55b9880d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a2ccd0ac9164069d68e8594fd55b9880d">listenOnce</a> ()</td></tr>
<tr class="memdesc:a2ccd0ac9164069d68e8594fd55b9880d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiates passive OPEN to create a non-forking listening connection.  <a href="#a2ccd0ac9164069d68e8594fd55b9880d">More...</a><br /></td></tr>
<tr class="separator:a2ccd0ac9164069d68e8594fd55b9880d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98679ccee779d4d8954d714c7288a564"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564">connect</a> (L3Address <a class="el" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a>, int remotePort)</td></tr>
<tr class="memdesc:a98679ccee779d4d8954d714c7288a564"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active OPEN to the given remote socket.  <a href="#a98679ccee779d4d8954d714c7288a564">More...</a><br /></td></tr>
<tr class="separator:a98679ccee779d4d8954d714c7288a564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53864e1f4ce02fc0db150f3d4ae60ce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a53864e1f4ce02fc0db150f3d4ae60ce0">send</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:a53864e1f4ce02fc0db150f3d4ae60ce0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data packet.  <a href="#a53864e1f4ce02fc0db150f3d4ae60ce0">More...</a><br /></td></tr>
<tr class="separator:a53864e1f4ce02fc0db150f3d4ae60ce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9415d7a6544e8a77a18bff27916cd06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ad9415d7a6544e8a77a18bff27916cd06">receive</a> (void)</td></tr>
<tr class="memdesc:ad9415d7a6544e8a77a18bff27916cd06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Requests data packet after data indication.  <a href="#ad9415d7a6544e8a77a18bff27916cd06">More...</a><br /></td></tr>
<tr class="separator:ad9415d7a6544e8a77a18bff27916cd06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133c120a1b216b1f2e94df6498c80ab4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a133c120a1b216b1f2e94df6498c80ab4">sendCommand</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:a133c120a1b216b1f2e94df6498c80ab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends command.  <a href="#a133c120a1b216b1f2e94df6498c80ab4">More...</a><br /></td></tr>
<tr class="separator:a133c120a1b216b1f2e94df6498c80ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d5fdcdcf6c4c4913e47bc169b9bb20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ab5d5fdcdcf6c4c4913e47bc169b9bb20">close</a> ()</td></tr>
<tr class="memdesc:ab5d5fdcdcf6c4c4913e47bc169b9bb20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the local end of the connection.  <a href="#ab5d5fdcdcf6c4c4913e47bc169b9bb20">More...</a><br /></td></tr>
<tr class="separator:ab5d5fdcdcf6c4c4913e47bc169b9bb20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68e10802685d3569bb52509c1804f52"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ae68e10802685d3569bb52509c1804f52">abort</a> ()</td></tr>
<tr class="memdesc:ae68e10802685d3569bb52509c1804f52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the connection.  <a href="#ae68e10802685d3569bb52509c1804f52">More...</a><br /></td></tr>
<tr class="separator:ae68e10802685d3569bb52509c1804f52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc548b7165a29fd043ce5351a77cc35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a2bc548b7165a29fd043ce5351a77cc35">requestStatus</a> ()</td></tr>
<tr class="memdesc:a2bc548b7165a29fd043ce5351a77cc35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Causes TCP to reply with a fresh TCPStatusInfo, attached to a dummy message as getControlInfo().  <a href="#a2bc548b7165a29fd043ce5351a77cc35">More...</a><br /></td></tr>
<tr class="separator:a2bc548b7165a29fd043ce5351a77cc35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15a73ebba044200769bcb0ae2315880a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a15a73ebba044200769bcb0ae2315880a">renewSocket</a> ()</td></tr>
<tr class="memdesc:a15a73ebba044200769bcb0ae2315880a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Required to re-connect with a "used" <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> object.  <a href="#a15a73ebba044200769bcb0ae2315880a">More...</a><br /></td></tr>
<tr class="separator:a15a73ebba044200769bcb0ae2315880a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e63ab3488b3f15ca62b0af048f1955"><td class="memItemLeft" align="right" valign="top">static TCPDataTransferMode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ae6e63ab3488b3f15ca62b0af048f1955">convertStringToDataTransferMode</a> (const char *transferMode)</td></tr>
<tr class="memdesc:ae6e63ab3488b3f15ca62b0af048f1955"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a string to TCPDataTransferMode enum.  <a href="#ae6e63ab3488b3f15ca62b0af048f1955">More...</a><br /></td></tr>
<tr class="separator:ae6e63ab3488b3f15ca62b0af048f1955"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Handling of messages arriving from TCP</h2></td></tr>
<tr class="memitem:ab3ccc55a8452e07786729a594fb30919"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#ab3ccc55a8452e07786729a594fb30919">belongsToSocket</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:ab3ccc55a8452e07786729a594fb30919"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the message belongs to this socket instance (message has a TCPCommand as getControlInfo(), and the connId in it matches that of the socket.)  <a href="#ab3ccc55a8452e07786729a594fb30919">More...</a><br /></td></tr>
<tr class="separator:ab3ccc55a8452e07786729a594fb30919"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c9bf4fde9eefc37eaf41ae2f0c9ec7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a62c9bf4fde9eefc37eaf41ae2f0c9ec7">setCallbackObject</a> (<a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html">CallbackInterface</a> *<a class="el" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>, void *<a class="el" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>=nullptr)</td></tr>
<tr class="memdesc:a62c9bf4fde9eefc37eaf41ae2f0c9ec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets a callback object, to be used with <a class="el" href="classks_1_1TCPSocket.html#a1ca706b83ad9d5ba5079c7ac78bdb387" title="Examines the message (which should have arrived from TCP), updates socket state, and if there is a ca...">processMessage()</a>.  <a href="#a62c9bf4fde9eefc37eaf41ae2f0c9ec7">More...</a><br /></td></tr>
<tr class="separator:a62c9bf4fde9eefc37eaf41ae2f0c9ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ca706b83ad9d5ba5079c7ac78bdb387"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a1ca706b83ad9d5ba5079c7ac78bdb387">processMessage</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:a1ca706b83ad9d5ba5079c7ac78bdb387"><td class="mdescLeft">&#160;</td><td class="mdescRight">Examines the message (which should have arrived from TCP), updates socket state, and if there is a callback object installed (see <a class="el" href="classks_1_1TCPSocket.html#a62c9bf4fde9eefc37eaf41ae2f0c9ec7" title="Sets a callback object, to be used with processMessage(). ">setCallbackObject()</a>, class <a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. ">CallbackInterface</a>), dispatches to the appropriate method of it with the same yourPtr that you gave in the <a class="el" href="classks_1_1TCPSocket.html#a62c9bf4fde9eefc37eaf41ae2f0c9ec7" title="Sets a callback object, to be used with processMessage(). ">setCallbackObject()</a> call.  <a href="#a1ca706b83ad9d5ba5079c7ac78bdb387">More...</a><br /></td></tr>
<tr class="separator:a1ca706b83ad9d5ba5079c7ac78bdb387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7396fe04e0d5714aecd0b55c1e9b5c22"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classks_1_1TCPSocket.html#a7396fe04e0d5714aecd0b55c1e9b5c22">belongsToAnyTCPSocket</a> (<a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg)</td></tr>
<tr class="memdesc:a7396fe04e0d5714aecd0b55c1e9b5c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the message belongs to any <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> instance.  <a href="#a7396fe04e0d5714aecd0b55c1e9b5c22">More...</a><br /></td></tr>
<tr class="separator:a7396fe04e0d5714aecd0b55c1e9b5c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="ab06a01d99c914f990309169a119115f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6">ks::TCPSocket::State</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"></a>NOT_BOUND&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"></a>BOUND&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532"></a>LISTENING&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"></a>CONNECTING&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"></a>CONNECTED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"></a>PEER_CLOSED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c"></a>LOCALLY_CLOSED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"></a>CLOSED&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893"></a>SOCKERROR&#160;</td><td class="fielddoc">
</td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{ <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">LISTENING</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">LOCALLY_CLOSED</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>, <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">SOCKERROR</a> };</div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">ks::TCPSocket::LOCALLY_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">ks::TCPSocket::LISTENING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">ks::TCPSocket::CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">ks::TCPSocket::SOCKERROR</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a522c977d1c8da5a5f0abcab3da168adc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ks::TCPSocket::TCPSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>The <a class="el" href="classks_1_1TCPSocket.html#a1c8cf1b49f9a74c00fbd69191e35d2f6" title="Returns the internal connection Id. ">getConnectionId()</a> method returns a valid Id right after constructor call. </p>
<div class="fragment"><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;{</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    <span class="comment">// don&#39;t allow user-specified connIds because they may conflict with</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    <span class="comment">// automatically assigned ones.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a> = getEnvir()-&gt;getUniqueNumber();</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = -1;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a> = TCP_TRANSFER_UNDEFINED;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa29f04c6ed5a3a54ce9d061cf0d447e5"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">ks::TCPSocket::gateToTcp</a></div><div class="ttdeci">cGate * gateToTcp</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:58</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a8aa97276aaa6910640965ca730243f2f"><div class="ttname"><a href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">ks::TCPSocket::yourPtr</a></div><div class="ttdeci">void * yourPtr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:56</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a1956e888f317195c4a90db39a4f98227"><div class="ttname"><a href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">ks::TCPSocket::cb</a></div><div class="ttdeci">CallbackInterface * cb</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:55</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa64c79b1f588eb485026d82f2a1cffff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ks::TCPSocket::TCPSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor, to be used with forked sockets (see <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a>). </p>
<p>The new connId will be picked up from the message: it should have arrived from TCP and contain TCPCommmand control info. </p>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    TCPCommand *ind = <span class="keyword">dynamic_cast&lt;</span>TCPCommand *<span class="keyword">&gt;</span>(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>());</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">if</span> (!ind)</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::TCPSocket(cMessage *): no TCPCommand control info in message (not from TCP?)&quot;</span>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a> = ind-&gt;getConnId();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = -1;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a> = TCP_TRANSFER_UNDEFINED;    <span class="comment">// FIXME set dataTransferMode</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>() == TCP_I_ESTABLISHED) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">// management of stockstate is left to processMessage() so we always</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">// set it to CONNECTED in the ctor, whatever TCP_I_xxx arrives.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="comment">// However, for convenience we extract TCPConnectInfo already here, so that</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">// remote address/port can be read already after the ctor call.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        TCPConnectInfo *connectInfo = <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;TCPConnectInfo *&gt;(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>());</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a> = connectInfo-&gt;getLocalAddr();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a> = connectInfo-&gt;getRemoteAddr();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = connectInfo-&gt;getLocalPort();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = connectInfo-&gt;getRemotePort();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a523ee002d73b7f6e3440a55aa6fd0593"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">cMessage::getControlInfo</a></div><div class="ttdeci">cObject * getControlInfo() const </div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa29f04c6ed5a3a54ce9d061cf0d447e5"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">ks::TCPSocket::gateToTcp</a></div><div class="ttdeci">cGate * gateToTcp</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:58</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae032553ef3aa9ebc50f8a1ab44632db0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">ks::TCPSocket::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:52</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a8aa97276aaa6910640965ca730243f2f"><div class="ttname"><a href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">ks::TCPSocket::yourPtr</a></div><div class="ttdeci">void * yourPtr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:56</div></div>
<div class="ttc" id="classcMessage_html_a45a79146f61f6d3ae34fac3eb8473162"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">cMessage::getKind</a></div><div class="ttdeci">short getKind() const </div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a1956e888f317195c4a90db39a4f98227"><div class="ttname"><a href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">ks::TCPSocket::cb</a></div><div class="ttdeci">CallbackInterface * cb</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:55</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa588345b9decd8cf81f9e3aaa702557c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ks::TCPSocket::~TCPSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a6c3058e7678ef5234a24532fc36e81c8">socketDeleted</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a8aa97276aaa6910640965ca730243f2f"><div class="ttname"><a href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">ks::TCPSocket::yourPtr</a></div><div class="ttdeci">void * yourPtr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:56</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a6c3058e7678ef5234a24532fc36e81c8"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a6c3058e7678ef5234a24532fc36e81c8">ks::TCPSocket::CallbackInterface::socketDeleted</a></div><div class="ttdeci">virtual void socketDeleted(int connId, void *yourPtr)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:39</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a1956e888f317195c4a90db39a4f98227"><div class="ttname"><a href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">ks::TCPSocket::cb</a></div><div class="ttdeci">CallbackInterface * cb</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:55</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae68e10802685d3569bb52509c1804f52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::abort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aborts the connection. </p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">SOCKERROR</a>) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;ABORT&quot;</span>, TCP_C_ABORT);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        TCPCommand *cmd = <span class="keyword">new</span> TCPCommand();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        cmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(cmd);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">ks::TCPSocket::CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">ks::TCPSocket::SOCKERROR</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7396fe04e0d5714aecd0b55c1e9b5c22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ks::TCPSocket::belongsToAnyTCPSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the message belongs to any <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> instance. </p>
<p>(This basically checks if the message has a TCPCommand attached to it as getControlInfo().) </p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TCPCommand *<span class="keyword">&gt;</span>(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>());</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div>
<div class="ttc" id="classcMessage_html_a523ee002d73b7f6e3440a55aa6fd0593"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">cMessage::getControlInfo</a></div><div class="ttdeci">cObject * getControlInfo() const </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3ccc55a8452e07786729a594fb30919"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ks::TCPSocket::belongsToSocket </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns true if the message belongs to this socket instance (message has a TCPCommand as getControlInfo(), and the connId in it matches that of the socket.) </p>
<div class="fragment"><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;{</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;     <span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>TCPCommand *<span class="keyword">&gt;</span>(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>()) &amp;&amp;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;           ((TCPCommand *)(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>()))-&gt;getConnId() == <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a523ee002d73b7f6e3440a55aa6fd0593"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">cMessage::getControlInfo</a></div><div class="ttdeci">cObject * getControlInfo() const </div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6421ac72b0f24588e26b063e9ed52a1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::bind </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>localPort</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind the socket to a local port number. </p>
<div class="fragment"><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>)</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::bind(): socket already bound&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (lPort &lt; 0 || lPort &gt; 65535)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::bind(): invalid port number %d&quot;</span>, lPort);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = lPort;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9484569059a469721e26b00e25498d05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::bind </td>
          <td>(</td>
          <td class="paramtype">L3Address&#160;</td>
          <td class="paramname"><em>localAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>localPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Bind the socket to a local port number and IP address (useful with multi-homing). </p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>)</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::bind(): socket already bound&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">// allow -1 here, to make it possible to specify address only</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> ((lPort &lt; 0 || lPort &gt; 65535) &amp;&amp; lPort != -1)</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::bind(): invalid port number %d&quot;</span>, lPort);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a> = lAddr;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = lPort;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab5d5fdcdcf6c4c4913e47bc169b9bb20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the local end of the connection. </p>
<p>With TCP, a CLOSE operation means "I have no more data to send", and thus results in a one-way connection until the remote TCP closes too (or the FIN_WAIT_1 timeout expires) </p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">LISTENING</a>)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::close(): not connected or close() already called (sockstate=%s)&quot;</span>, <a class="code" href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">stateName</a>(<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a>));</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;CLOSE&quot;</span>, TCP_C_CLOSE);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    TCPCommand *cmd = <span class="keyword">new</span> TCPCommand();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    cmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(cmd);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> == <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>) ? <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">LOCALLY_CLOSED</a> : <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">ks::TCPSocket::LOCALLY_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a45c7469e5ac6f0d18b28f00662dbae28"><div class="ttname"><a href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">ks::TCPSocket::stateName</a></div><div class="ttdeci">static const char * stateName(int state)</div><div class="ttdoc">Returns name of socket state code returned by getState(). </div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:57</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">ks::TCPSocket::LISTENING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">ks::TCPSocket::CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a98679ccee779d4d8954d714c7288a564"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::connect </td>
          <td>(</td>
          <td class="paramtype">L3Address&#160;</td>
          <td class="paramname"><em>remoteAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>remotePort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Active OPEN to the given remote socket. </p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::connect(): connect() or listen() already called (need renewSocket()?)&quot;</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (remotePort &lt; 0 || remotePort &gt; 65535)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::connect(): invalid remote port number %d&quot;</span>, remotePort);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;ActiveOPEN&quot;</span>, TCP_C_OPEN_ACTIVE);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a> = remoteAddress;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = remotePort;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    TCPOpenCommand *openCmd = <span class="keyword">new</span> TCPOpenCommand();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;local: &quot;</span> &lt;&lt; <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    openCmd-&gt;setConnId(connId);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    openCmd-&gt;setLocalAddr(<a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    openCmd-&gt;setLocalPort(<a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a>);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    openCmd-&gt;setRemoteAddr(<a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    openCmd-&gt;setRemotePort(<a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    openCmd-&gt;setDataTransferMode(<a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a>);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    openCmd-&gt;setTcpAlgorithmClass(<a class="code" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a>.c_str());</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(openCmd);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae032553ef3aa9ebc50f8a1ab44632db0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">ks::TCPSocket::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:52</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a5d3a17838100573398c054c39aa346e3"><div class="ttname"><a href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">ks::TCPSocket::tcpAlgorithmClass</a></div><div class="ttdeci">std::string tcpAlgorithmClass</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:61</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae6e63ab3488b3f15ca62b0af048f1955"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TCPDataTransferMode ks::TCPSocket::convertStringToDataTransferMode </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transferMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a string to TCPDataTransferMode enum. </p>
<p>Returns TCP_TRANSFER_UNDEFINED when string has an invalid value Generate runtime error, when string is nullptr; </p>
<div class="fragment"><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;{</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">nullptr</span> == transferMode || 0 == transferMode[0])</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> TCP_TRANSFER_UNDEFINED;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span> (0 == strcmp(transferMode, <span class="stringliteral">&quot;bytecount&quot;</span>))</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="keywordflow">return</span> TCP_TRANSFER_BYTECOUNT;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">if</span> (0 == strcmp(transferMode, <span class="stringliteral">&quot;object&quot;</span>))</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">return</span> TCP_TRANSFER_OBJECT;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span> (0 == strcmp(transferMode, <span class="stringliteral">&quot;bytestream&quot;</span>))</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        <span class="keywordflow">return</span> TCP_TRANSFER_BYTESTREAM;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keywordflow">return</span> TCP_TRANSFER_UNDEFINED;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c8cf1b49f9a74c00fbd69191e35d2f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::getConnectionId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the internal connection Id. </p>
<p>TCP uses the (gate index, connId) pair to identify the connection when it receives a command from the application (or <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a>). </p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a04fe0c678cda52e86bae5e4534b49571"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TCPDataTransferMode ks::TCPSocket::getDataTransferMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current dataTransferMode parameter. </p>
<dl class="section see"><dt>See also</dt><dd>TCPCommand </dd></dl>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2f3f0ff1c4ddcc0c254194ee6c1b6154"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L3Address ks::TCPSocket::getLocalAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d409999b76e2f7f6b1be2e0efe5ac7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::getLocalPort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa87868eabc0762d44e4efc607631c645"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L3Address ks::TCPSocket::getRemoteAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae032553ef3aa9ebc50f8a1ab44632db0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">ks::TCPSocket::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11637eb08b5cedc80f31db5f0fa79fa3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::getRemotePort </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a55c5b70e199d59bd059f8b0f95178f4b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::getState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the socket state, one of NOT_BOUND, CLOSED, LISTENING, CONNECTING, CONNECTED, etc. </p>
<p>Messages received from TCP must be routed through <a class="el" href="classks_1_1TCPSocket.html#a1ca706b83ad9d5ba5079c7ac78bdb387" title="Examines the message (which should have arrived from TCP), updates socket state, and if there is a ca...">processMessage()</a> in order to keep socket state up-to-date. </p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aecdc7ff7142d5060298b2e43e20d0142"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* ks::TCPSocket::getTCPAlgorithmClass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current tcpAlgorithmClass parameter. </p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a>.c_str(); }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a5d3a17838100573398c054c39aa346e3"><div class="ttname"><a href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">ks::TCPSocket::tcpAlgorithmClass</a></div><div class="ttdeci">std::string tcpAlgorithmClass</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:61</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa4c4771d0773348fc713ba4250e5564a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::listen </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fork</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;{</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>)</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> == <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a> ? <span class="stringliteral">&quot;TCPSocket: must call bind() before listen()&quot;</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                : <span class="stringliteral">&quot;TCPSocket::listen(): connect() or listen() already called&quot;</span>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;PassiveOPEN&quot;</span>, TCP_C_OPEN_PASSIVE);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    TCPOpenCommand *openCmd = <span class="keyword">new</span> TCPOpenCommand();</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    openCmd-&gt;setLocalAddr(<a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    openCmd-&gt;setLocalPort(<a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    openCmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    openCmd-&gt;setFork(fork);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    openCmd-&gt;setDataTransferMode(<a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    openCmd-&gt;setTcpAlgorithmClass(<a class="code" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a>.c_str());</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(openCmd);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">LISTENING</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">ks::TCPSocket::LISTENING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a5d3a17838100573398c054c39aa346e3"><div class="ttname"><a href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">ks::TCPSocket::tcpAlgorithmClass</a></div><div class="ttdeci">std::string tcpAlgorithmClass</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:61</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa0a2dc087aa29382e398577d3651699b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::listen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates passive OPEN, creating a "forking" connection that will listen on the port you bound the socket to. </p>
<p>Every incoming connection will get a new connId (and thus, must be handled with a new <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> object), while the original connection (original connId) will keep listening on the port. The new <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> object must be created with the <a class="el" href="classks_1_1TCPSocket.html#aa64c79b1f588eb485026d82f2a1cffff" title="Constructor, to be used with forked sockets (see listen()). ">TCPSocket(cMessage *msg)</a> constructor.</p>
<p>If you need to handle multiple incoming connections, the TCPSocketMap class can also be useful, and TCPSrvHostApp shows how to put it all together. See also TCPOpenCommand documentation (neddoc) for more info. </p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;{ <a class="code" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b">listen</a>(<span class="keyword">true</span>); }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa0a2dc087aa29382e398577d3651699b"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b">ks::TCPSocket::listen</a></div><div class="ttdeci">void listen()</div><div class="ttdoc">Initiates passive OPEN, creating a "forking" connection that will listen on the port you bound the so...</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:183</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2ccd0ac9164069d68e8594fd55b9880d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::listenOnce </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initiates passive OPEN to create a non-forking listening connection. </p>
<p>Non-forking means that TCP will accept the first incoming connection, and refuse subsequent ones.</p>
<p>See TCPOpenCommand documentation (neddoc) for more info. </p>
<div class="fragment"><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;{ <a class="code" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b">listen</a>(<span class="keyword">false</span>); }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa0a2dc087aa29382e398577d3651699b"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b">ks::TCPSocket::listen</a></div><div class="ttdeci">void listen()</div><div class="ttdoc">Initiates passive OPEN, creating a "forking" connection that will listen on the port you bound the so...</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:183</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1ca706b83ad9d5ba5079c7ac78bdb387"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::processMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Examines the message (which should have arrived from TCP), updates socket state, and if there is a callback object installed (see <a class="el" href="classks_1_1TCPSocket.html#a62c9bf4fde9eefc37eaf41ae2f0c9ec7" title="Sets a callback object, to be used with processMessage(). ">setCallbackObject()</a>, class <a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. ">CallbackInterface</a>), dispatches to the appropriate method of it with the same yourPtr that you gave in the <a class="el" href="classks_1_1TCPSocket.html#a62c9bf4fde9eefc37eaf41ae2f0c9ec7" title="Sets a callback object, to be used with processMessage(). ">setCallbackObject()</a> call. </p>
<p>The method deletes the message, unless (1) there is a callback object installed AND (2) the message is payload (message kind TCP_I_DATA or TCP_I_URGENT_DATA) when the responsibility of destruction is on the socketDataArrived() callback method.</p>
<p>IMPORTANT: for performance reasons, this method doesn't check that the message belongs to this socket, i.e. belongsToSocket(msg) would return true! </p>
<div class="fragment"><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;{</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    ASSERT(<a class="code" href="classks_1_1TCPSocket.html#ab3ccc55a8452e07786729a594fb30919">belongsToSocket</a>(msg));</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    TCPStatusInfo *status;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    TCPConnectInfo *connectInfo;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">switch</span> (msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>()) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keywordflow">case</span> TCP_I_DATA:</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a440c8d4cebf47da1cb8aba2ec8a8fbb2">socketDataArrived</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>, PK(msg), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keywordflow">case</span> TCP_I_URGENT_DATA:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a440c8d4cebf47da1cb8aba2ec8a8fbb2">socketDataArrived</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>, PK(msg), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">case</span> TCP_I_ESTABLISHED:</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="comment">// Note: this code is only for sockets doing active open, and nonforking</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="comment">// listening sockets. For a forking listening sockets, TCP_I_ESTABLISHED</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="comment">// carries a new connId which won&#39;t match the connId of this TCPSocket,</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            <span class="comment">// so you won&#39;t get here. Rather, when you see TCP_I_ESTABLISHED, you&#39;ll</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="comment">// want to create a new TCPSocket object via new TCPSocket(msg).</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            connectInfo = <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;TCPConnectInfo *&gt;(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">getControlInfo</a>());</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a> = connectInfo-&gt;getLocalAddr();</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a> = connectInfo-&gt;getRemoteAddr();</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = connectInfo-&gt;getLocalPort();</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = connectInfo-&gt;getRemotePort();</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a68bc49341e15ff5d54c753900a8312ad">socketEstablished</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="keywordflow">case</span> TCP_I_PEER_CLOSED:</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#ab600d957834fe506dd5523f008829c9a">socketPeerClosed</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">case</span> TCP_I_CLOSED:</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a42c2bb5812b2b9c2c82b25593d5204b2">socketClosed</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">case</span> TCP_I_CONNECTION_REFUSED:</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">case</span> TCP_I_CONNECTION_RESET:</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">case</span> TCP_I_TIMED_OUT:</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">SOCKERROR</a>;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#ada7b74c07ee33fbdbe330738b01e8ab2">socketFailure</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>, msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">getKind</a>());</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">case</span> TCP_I_STATUS:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            status = <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;TCPStatusInfo *&gt;(msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">removeControlInfo</a>());</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a0aa34a35bf7f9d2aae2531ed07cb102d">socketStatusArrived</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>, status);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <span class="keywordflow">case</span> TCP_I_DATA_NOTIFICATION:</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keyword">delete</span> msg;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a>-&gt;<a class="code" href="classks_1_1TCPSocket_1_1CallbackInterface.html#a3cd175a5aa6176ebb2683286047954d5">socketDataIndication</a>(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>, <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a>);</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket: invalid msg kind %d, one of the TCP_I_xxx constants expected&quot;</span>,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                msg-&gt;getKind());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a523ee002d73b7f6e3440a55aa6fd0593"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a523ee002d73b7f6e3440a55aa6fd0593">cMessage::getControlInfo</a></div><div class="ttdeci">cObject * getControlInfo() const </div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a42c2bb5812b2b9c2c82b25593d5204b2"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a42c2bb5812b2b9c2c82b25593d5204b2">ks::TCPSocket::CallbackInterface::socketClosed</a></div><div class="ttdeci">virtual void socketClosed(int connId, void *yourPtr)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:36</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_ab600d957834fe506dd5523f008829c9a"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#ab600d957834fe506dd5523f008829c9a">ks::TCPSocket::CallbackInterface::socketPeerClosed</a></div><div class="ttdeci">virtual void socketPeerClosed(int connId, void *yourPtr)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:35</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae032553ef3aa9ebc50f8a1ab44632db0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">ks::TCPSocket::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:52</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a8aa97276aaa6910640965ca730243f2f"><div class="ttname"><a href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">ks::TCPSocket::yourPtr</a></div><div class="ttdeci">void * yourPtr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:56</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_ada7b74c07ee33fbdbe330738b01e8ab2"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#ada7b74c07ee33fbdbe330738b01e8ab2">ks::TCPSocket::CallbackInterface::socketFailure</a></div><div class="ttdeci">virtual void socketFailure(int connId, void *yourPtr, int code)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:37</div></div>
<div class="ttc" id="classcMessage_html_a45a79146f61f6d3ae34fac3eb8473162"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a45a79146f61f6d3ae34fac3eb8473162">cMessage::getKind</a></div><div class="ttdeci">short getKind() const </div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a0aa34a35bf7f9d2aae2531ed07cb102d"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a0aa34a35bf7f9d2aae2531ed07cb102d">ks::TCPSocket::CallbackInterface::socketStatusArrived</a></div><div class="ttdeci">virtual void socketStatusArrived(int connId, void *yourPtr, TCPStatusInfo *status)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:38</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a1956e888f317195c4a90db39a4f98227"><div class="ttname"><a href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">ks::TCPSocket::cb</a></div><div class="ttdeci">CallbackInterface * cb</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:55</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a68bc49341e15ff5d54c753900a8312ad"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a68bc49341e15ff5d54c753900a8312ad">ks::TCPSocket::CallbackInterface::socketEstablished</a></div><div class="ttdeci">virtual void socketEstablished(int connId, void *yourPtr)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:34</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a440c8d4cebf47da1cb8aba2ec8a8fbb2"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a440c8d4cebf47da1cb8aba2ec8a8fbb2">ks::TCPSocket::CallbackInterface::socketDataArrived</a></div><div class="ttdeci">virtual void socketDataArrived(int connId, void *yourPtr, cPacket *msg, bool urgent)=0</div></div>
<div class="ttc" id="classks_1_1TCPSocket_1_1CallbackInterface_html_a3cd175a5aa6176ebb2683286047954d5"><div class="ttname"><a href="classks_1_1TCPSocket_1_1CallbackInterface.html#a3cd175a5aa6176ebb2683286047954d5">ks::TCPSocket::CallbackInterface::socketDataIndication</a></div><div class="ttdeci">virtual void socketDataIndication(int connId, void *yourPtr)</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:40</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">ks::TCPSocket::CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html_a92a7d217a94ea8372dc4da2f4156159d"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a92a7d217a94ea8372dc4da2f4156159d">cMessage::removeControlInfo</a></div><div class="ttdeci">cObject * removeControlInfo()</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">ks::TCPSocket::SOCKERROR</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab3ccc55a8452e07786729a594fb30919"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab3ccc55a8452e07786729a594fb30919">ks::TCPSocket::belongsToSocket</a></div><div class="ttdeci">bool belongsToSocket(cMessage *msg)</div><div class="ttdoc">Returns true if the message belongs to this socket instance (message has a TCPCommand as getControlIn...</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:235</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aadfafab415b1be8c0c79e74de4be0716"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::readDataTransferModePar </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcComponent.html">cComponent</a> &amp;&#160;</td>
          <td class="paramname"><em>component</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read "dataTransferMode" parameter from ini/ned, and set dataTransferMode member value. </p>
<p>Generate runtime error when parameter is missing or value is invalid. </p>
<div class="fragment"><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;{</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *transferMode = component.<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcComponent.html#a73111b3f286cc723519595a4d8d318f7">par</a>(<span class="stringliteral">&quot;dataTransferMode&quot;</span>);</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="keywordflow">if</span> (<span class="keyword">nullptr</span> == transferMode)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;Missing dataTransferMode parameter at %s.&quot;</span>,</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                component.<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcObject.html#a26c918d8176ea1ce3bc6b87cc7e45464">getFullPath</a>().c_str());</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    TCPDataTransferMode x = <a class="code" href="classks_1_1TCPSocket.html#ae6e63ab3488b3f15ca62b0af048f1955">convertStringToDataTransferMode</a>(transferMode);</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="keywordflow">if</span> (x == TCP_TRANSFER_UNDEFINED)</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;Invalid &#39;%s&#39; dataTransferMode parameter at %s.&quot;</span>,</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                transferMode, component.<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcObject.html#a26c918d8176ea1ce3bc6b87cc7e45464">getFullPath</a>().c_str());</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a> = x;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae6e63ab3488b3f15ca62b0af048f1955"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae6e63ab3488b3f15ca62b0af048f1955">ks::TCPSocket::convertStringToDataTransferMode</a></div><div class="ttdeci">static TCPDataTransferMode convertStringToDataTransferMode(const char *transferMode)</div><div class="ttdoc">Convert a string to TCPDataTransferMode enum. </div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:347</div></div>
<div class="ttc" id="classcObject_html_a26c918d8176ea1ce3bc6b87cc7e45464"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcObject.html#a26c918d8176ea1ce3bc6b87cc7e45464">cObject::getFullPath</a></div><div class="ttdeci">virtual std::string getFullPath() const </div></div>
<div class="ttc" id="classcComponent_html_a73111b3f286cc723519595a4d8d318f7"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcComponent.html#a73111b3f286cc723519595a4d8d318f7">cComponent::par</a></div><div class="ttdeci">virtual cPar &amp; par(int k)</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9415d7a6544e8a77a18bff27916cd06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::receive </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Requests data packet after data indication. </p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::send(): socket not connected or connecting, state is %s&quot;</span>, <a class="code" href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">stateName</a>(<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a>));</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;issuing RECEIVE command\n&quot;</span>;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;RECEIVE&quot;</span>, TCP_C_READ);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    TCPCommand *cmd = <span class="keyword">new</span> TCPCommand();</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    cmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(cmd);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a45c7469e5ac6f0d18b28f00662dbae28"><div class="ttname"><a href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">ks::TCPSocket::stateName</a></div><div class="ttdeci">static const char * stateName(int state)</div><div class="ttdoc">Returns name of socket state code returned by getState(). </div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:57</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="group__Envir_html_ga650ef3eff8a2900bef69dae29c05d2dd"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Envir.html#ga650ef3eff8a2900bef69dae29c05d2dd">EV</a></div><div class="ttdeci">#define EV</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a15a73ebba044200769bcb0ae2315880a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::renewSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Required to re-connect with a "used" <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> object. </p>
<p>By default, a <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> object is tied to a single TCP connection, via the connectionId. When the connection gets closed or aborted, you cannot use the socket to connect again (by <a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564" title="Active OPEN to the given remote socket. ">connect()</a> or <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a>) unless you obtain a new connectionId by calling this method.</p>
<p>BEWARE if you use TCPSocketMap! TCPSocketMap uses connectionId to find TCPSockets, so after calling this method you have to remove the socket from your TCPSocketMap, and re-add it. Otherwise TCPSocketMap will get confused.</p>
<p>The reason why one must obtain a new connectionId is that TCP still has to maintain the connection data structure (identified by the old connectionId) internally for a while (2 maximum segment lifetimes = 240s) after it reported "connection closed" to us. </p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a> = getEnvir()-&gt;getUniqueNumber();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">remoteAddr</a> = <a class="code" href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">localAddr</a> = L3Address();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">remotePrt</a> = <a class="code" href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">localPrt</a> = -1;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> = <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ac55891838fdd7d2c7f617bdb88b2cce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ac55891838fdd7d2c7f617bdb88b2cce0">ks::TCPSocket::remotePrt</a></div><div class="ttdeci">int remotePrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:53</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_af9e03bc9648e109092f7c85b8b9f3a77"><div class="ttname"><a href="classks_1_1TCPSocket.html#af9e03bc9648e109092f7c85b8b9f3a77">ks::TCPSocket::localAddr</a></div><div class="ttdeci">L3Address localAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:50</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a2d6d88f0349a168e72f90b5e52190390"><div class="ttname"><a href="classks_1_1TCPSocket.html#a2d6d88f0349a168e72f90b5e52190390">ks::TCPSocket::localPrt</a></div><div class="ttdeci">int localPrt</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:51</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ae032553ef3aa9ebc50f8a1ab44632db0"><div class="ttname"><a href="classks_1_1TCPSocket.html#ae032553ef3aa9ebc50f8a1ab44632db0">ks::TCPSocket::remoteAddr</a></div><div class="ttdeci">L3Address remoteAddr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:52</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2bc548b7165a29fd043ce5351a77cc35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::requestStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Causes TCP to reply with a fresh TCPStatusInfo, attached to a dummy message as getControlInfo(). </p>
<p>The reply message can be recognized by its message kind TCP_I_STATUS, or (if a callback object is used) the socketStatusArrived() method of the callback object will be called. </p>
<div class="fragment"><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;{</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *msg = <span class="keyword">new</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a>(<span class="stringliteral">&quot;STATUS&quot;</span>, TCP_C_STATUS);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    TCPCommand *cmd = <span class="keyword">new</span> TCPCommand();</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    cmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(cmd);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcMessage_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53864e1f4ce02fc0db150f3d4ae60ce0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::send </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data packet. </p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a> &amp;&amp; <a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a> != <a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket::send(): socket not connected or connecting, state is %s&quot;</span>, <a class="code" href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">stateName</a>(<a class="code" href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">sockstate</a>));</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">setKind</a>(TCP_C_SEND);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    TCPSendCommand *cmd = <span class="keyword">new</span> TCPSendCommand();</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    cmd-&gt;setConnId(<a class="code" href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">connId</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    msg-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">setControlInfo</a>(cmd);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a68063a46cb5c1f86b2c8eede3c75e0c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#a68063a46cb5c1f86b2c8eede3c75e0c7">ks::TCPSocket::connId</a></div><div class="ttdeci">int connId</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:47</div></div>
<div class="ttc" id="classcMessage_html_a833f4b7cca888f01d91c50ec43101aae"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a833f4b7cca888f01d91c50ec43101aae">cMessage::setControlInfo</a></div><div class="ttdeci">void setControlInfo(cObject *p)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a45c7469e5ac6f0d18b28f00662dbae28"><div class="ttname"><a href="classks_1_1TCPSocket.html#a45c7469e5ac6f0d18b28f00662dbae28">ks::TCPSocket::stateName</a></div><div class="ttdeci">static const char * stateName(int state)</div><div class="ttdoc">Returns name of socket state code returned by getState(). </div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:57</div></div>
<div class="ttc" id="classcMessage_html_a67d6d293fbc28aa92362c19fa9bdb412"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html#a67d6d293fbc28aa92362c19fa9bdb412">cMessage::setKind</a></div><div class="ttdeci">void setKind(short k)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab65b783814e144b57ad100e6eb16640c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab65b783814e144b57ad100e6eb16640c">ks::TCPSocket::sockstate</a></div><div class="ttdeci">int sockstate</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:48</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a133c120a1b216b1f2e94df6498c80ab4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::sendCommand </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends command. </p>
<div class="fragment"><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">sendToTCP</a>(msg);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_aee7abe8e15ac615a5a7ecfa71c101729"><div class="ttname"><a href="classks_1_1TCPSocket.html#aee7abe8e15ac615a5a7ecfa71c101729">ks::TCPSocket::sendToTCP</a></div><div class="ttdeci">void sendToTCP(cMessage *msg)</div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:77</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee7abe8e15ac615a5a7ecfa71c101729"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::sendToTCP </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcMessage.html">cMessage</a> *&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">throw</span> <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a>(<span class="stringliteral">&quot;TCPSocket: setOutputGate() must be invoked before socket can be used&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a>&lt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcSimpleModule.html">cSimpleModule</a> *&gt;(<a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a>-&gt;<a class="codeRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html#ad230c5d38beb3cc9dd88b9dde46fe7d7">getOwnerModule</a>())-&gt;<a class="code" href="classks_1_1TCPSocket.html#a53864e1f4ce02fc0db150f3d4ae60ce0">send</a>(msg, <a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa29f04c6ed5a3a54ce9d061cf0d447e5"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">ks::TCPSocket::gateToTcp</a></div><div class="ttdeci">cGate * gateToTcp</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:58</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a53864e1f4ce02fc0db150f3d4ae60ce0"><div class="ttname"><a href="classks_1_1TCPSocket.html#a53864e1f4ce02fc0db150f3d4ae60ce0">ks::TCPSocket::send</a></div><div class="ttdeci">void send(cMessage *msg)</div><div class="ttdoc">Sends data packet. </div><div class="ttdef"><b>Definition:</b> TCPSocket.cc:162</div></div>
<div class="ttc" id="classcGate_html_ad230c5d38beb3cc9dd88b9dde46fe7d7"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html#ad230c5d38beb3cc9dd88b9dde46fe7d7">cGate::getOwnerModule</a></div><div class="ttdeci">cModule * getOwnerModule() const </div></div>
<div class="ttc" id="classcSimpleModule_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcSimpleModule.html">cSimpleModule</a></div></div>
<div class="ttc" id="classcRuntimeError_html"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcRuntimeError.html">cRuntimeError</a></div></div>
<div class="ttc" id="group__Functions_html_gac05a322b9912da77f8b797eeab7805f4"><div class="ttname"><a href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/group__Functions.html#gac05a322b9912da77f8b797eeab7805f4">check_and_cast</a></div><div class="ttdeci">T check_and_cast(cObject *p)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a62c9bf4fde9eefc37eaf41ae2f0c9ec7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::setCallbackObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html">CallbackInterface</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>yourPtr</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets a callback object, to be used with <a class="el" href="classks_1_1TCPSocket.html#a1ca706b83ad9d5ba5079c7ac78bdb387" title="Examines the message (which should have arrived from TCP), updates socket state, and if there is a ca...">processMessage()</a>. </p>
<p>This callback object may be your simple module itself (if it multiply inherits from <a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. ">CallbackInterface</a> too, that is you declared it as </p><pre>
class MyAppModule : public <a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcSimpleModule.html">cSimpleModule</a>, public <a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. ">TCPSocket::CallbackInterface</a>
</pre><p> and redefined the necessary virtual functions; or you may use dedicated class (and objects) for this purpose.</p>
<p><a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> doesn't delete the callback object in the destructor or on any other occasion.</p>
<p>YourPtr is an optional pointer. It may contain any value you wish &ndash; <a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a> will not look at it or do anything with it except passing it back to you in the <a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html" title="Abstract base class for your callback objects. ">CallbackInterface</a> calls. You may find it useful if you maintain additional per-connection information: in that case you don't have to look it up by connId in the callbacks, you can have it passed to you as yourPtr. </p>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">cb</a> = callback;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">yourPtr</a> = yourPointer;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;}</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a8aa97276aaa6910640965ca730243f2f"><div class="ttname"><a href="classks_1_1TCPSocket.html#a8aa97276aaa6910640965ca730243f2f">ks::TCPSocket::yourPtr</a></div><div class="ttdeci">void * yourPtr</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:56</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_a1956e888f317195c4a90db39a4f98227"><div class="ttname"><a href="classks_1_1TCPSocket.html#a1956e888f317195c4a90db39a4f98227">ks::TCPSocket::cb</a></div><div class="ttdeci">CallbackInterface * cb</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:55</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a041ede715e803eccfa38631da1637d88"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::setDataTransferMode </td>
          <td>(</td>
          <td class="paramtype">TCPDataTransferMode&#160;</td>
          <td class="paramname"><em>transferMode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the dataTransferMode parameter of the subsequent <a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564" title="Active OPEN to the given remote socket. ">connect()</a> or <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a> calls. </p>
<dl class="section see"><dt>See also</dt><dd>TCPCommand </dd></dl>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;{ <a class="code" href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">dataTransferMode</a> = transferMode; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a80d0f3b49cbf73acfe8231aa0df536fd"><div class="ttname"><a href="classks_1_1TCPSocket.html#a80d0f3b49cbf73acfe8231aa0df536fd">ks::TCPSocket::dataTransferMode</a></div><div class="ttdeci">TCPDataTransferMode dataTransferMode</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:60</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a93c2983afc191ae8de5818996a06008d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::setOutputGate </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html">cGate</a> *&#160;</td>
          <td class="paramname"><em>toTcp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the gate on which to send to TCP. </p>
<p>Must be invoked before socket can be used. Example: <code>socket.setOutputGate(gate("tcpOut"));</code> </p>
<div class="fragment"><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{ <a class="code" href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">gateToTcp</a> = toTcp; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_aa29f04c6ed5a3a54ce9d061cf0d447e5"><div class="ttname"><a href="classks_1_1TCPSocket.html#aa29f04c6ed5a3a54ce9d061cf0d447e5">ks::TCPSocket::gateToTcp</a></div><div class="ttdeci">cGate * gateToTcp</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c49ceef4b47f1e9493b8bcd6ccb3f9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ks::TCPSocket::setTCPAlgorithmClass </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>tcpAlgorithmClass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the tcpAlgorithmClass parameter of the next <a class="el" href="classks_1_1TCPSocket.html#a98679ccee779d4d8954d714c7288a564" title="Active OPEN to the given remote socket. ">connect()</a> or <a class="el" href="classks_1_1TCPSocket.html#aa0a2dc087aa29382e398577d3651699b" title="Initiates passive OPEN, creating a &quot;forking&quot; connection that will listen on the port you bound the so...">listen()</a> call. </p>
<div class="fragment"><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;{ this-&gt;<a class="code" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a> = <a class="code" href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">tcpAlgorithmClass</a>; }</div>
<div class="ttc" id="classks_1_1TCPSocket_html_a5d3a17838100573398c054c39aa346e3"><div class="ttname"><a href="classks_1_1TCPSocket.html#a5d3a17838100573398c054c39aa346e3">ks::TCPSocket::tcpAlgorithmClass</a></div><div class="ttdeci">std::string tcpAlgorithmClass</div><div class="ttdef"><b>Definition:</b> TCPSocket.h:61</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a45c7469e5ac6f0d18b28f00662dbae28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * ks::TCPSocket::stateName </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns name of socket state code returned by <a class="el" href="classks_1_1TCPSocket.html#a55c5b70e199d59bd059f8b0f95178f4b" title="Returns the socket state, one of NOT_BOUND, CLOSED, LISTENING, CONNECTING, CONNECTED, etc. ">getState()</a>. </p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#define CASE(x)    case x: \</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">        s = #x; break</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *s = <span class="stringliteral">&quot;unknown&quot;</span>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">NOT_BOUND</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">BOUND</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">LISTENING</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">CONNECTING</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">CONNECTED</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">PEER_CLOSED</a>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">LOCALLY_CLOSED</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">CLOSED</a>);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a>(<a class="code" href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">SOCKERROR</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#undef CASE</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;}</div>
<div class="ttc" id="TCPSocket_8cc_html_a60cc06bef97da802b8522d258ac4fe89"><div class="ttname"><a href="TCPSocket_8cc.html#a60cc06bef97da802b8522d258ac4fe89">CASE</a></div><div class="ttdeci">#define CASE(x)</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4f2e9517a3afb8c20e42f35f2b4bc10c">ks::TCPSocket::LOCALLY_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ace0d3bf96fa8d3d76d34b8686159a51e">ks::TCPSocket::NOT_BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af5c2843abe18f6509c6131e4f92a8905">ks::TCPSocket::PEER_CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ad31a04e123e31977cdc26e240b175532">ks::TCPSocket::LISTENING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a4d97685111904739d88a37d0310fb052">ks::TCPSocket::CLOSED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6ac725a8c9be0e6599b12dfbb98f4c614d">ks::TCPSocket::CONNECTED</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6acf52053d8a79a36ce2ea494c785828c7">ks::TCPSocket::CONNECTING</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6af8918265ae1d573c1aa7d505ca793b9d">ks::TCPSocket::BOUND</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
<div class="ttc" id="classks_1_1TCPSocket_html_ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893"><div class="ttname"><a href="classks_1_1TCPSocket.html#ab06a01d99c914f990309169a119115f6a10a012dba435297159781edf2f260893">ks::TCPSocket::SOCKERROR</a></div><div class="ttdef"><b>Definition:</b> TCPSocket.h:43</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a1956e888f317195c4a90db39a4f98227"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classks_1_1TCPSocket_1_1CallbackInterface.html">CallbackInterface</a>* ks::TCPSocket::cb</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a68063a46cb5c1f86b2c8eede3c75e0c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::connId</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a80d0f3b49cbf73acfe8231aa0df536fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TCPDataTransferMode ks::TCPSocket::dataTransferMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa29f04c6ed5a3a54ce9d061cf0d447e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/praktikum/praktikum/omnetpp-4.6/doc/api/opptags.xml:/home/praktikum/praktikum/omnetpp-4.6//doc/api/" href="/home/praktikum/praktikum/omnetpp-4.6//doc/api/classcGate.html">cGate</a>* ks::TCPSocket::gateToTcp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af9e03bc9648e109092f7c85b8b9f3a77"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L3Address ks::TCPSocket::localAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d6d88f0349a168e72f90b5e52190390"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::localPrt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad96b0df7258cafeef39bc33dd2417a54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::numBytes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae032553ef3aa9ebc50f8a1ab44632db0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">L3Address ks::TCPSocket::remoteAddr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac55891838fdd7d2c7f617bdb88b2cce0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::remotePrt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab65b783814e144b57ad100e6eb16640c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ks::TCPSocket::sockstate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d3a17838100573398c054c39aa346e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ks::TCPSocket::tcpAlgorithmClass</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8aa97276aaa6910640965ca730243f2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* ks::TCPSocket::yourPtr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TCPSocket_8h.html">TCPSocket.h</a></li>
<li><a class="el" href="TCPSocket_8cc.html">TCPSocket.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceks.html">ks</a></li><li class="navelem"><a class="el" href="classks_1_1TCPSocket.html">TCPSocket</a></li>
    <li class="footer">Generated on Thu Oct 6 2016 16:27:19 for ks by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
